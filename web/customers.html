<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Customers | Digital Bank</title>
        <link rel="icon" type="image/png" href="../logo.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

        <!-- Main Stylesheet -->
        <link rel="stylesheet" href="assets/css/style.css" title="Normal">
        <link rel="alternate stylesheet" href="assets/css/dark-mode.css" title="Dark mode" id="dark-mode-css">
    </head>
    <body class="customers-page">

        <!-- Navbar (same as other pages) -->
        <nav class="navbar" role="navigation" aria-label="Main navigation">
            <div class="nav-container">
                <a class="navbar-brand" href="index.html" aria-label="Digital Bank - Go to home page">
                    <i class="fas fa-university" aria-hidden="true"></i>
                    <span>Digital Bank</span>
                </a>

                <button class="nav-toggler" id="navToggler" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="navMenu">
                    <i class="fas fa-bars" aria-hidden="true"></i>
                </button>

                <div class="nav-menu" id="navMenu">
                    <ul role="list">
                        <li><a href="index.html" aria-label="Go to home page">Home</a></li>
                        <li><a href="../main.html" aria-label="Go to accounts page">Accounts</a></li>
                        <li><a href="../MovementsPage.html" aria-label="Go to movements page">Movements</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container-form">
            <div class="form-card">
                <div class="form-header">
                    <h1>Customers</h1>
                    <p>Manage your customers</p>
                </div>

                <div class="actions-row" role="group" aria-label="Customer actions">
                    <button class="submit-btn" id="createCustomerBtn" aria-label="Create new customer">Create Customer</button>
                    <!-- Botón de ayuda: abre un vídeo de ayuda dentro de la página -->
                    <button class="submit-btn" id="helpBtn" style="margin-left:8px;" aria-label="Open help video">Help</button>
                </div>

                <div class="table-responsive mt-30">
                    <table id="customerTable" class="Table" role="" aria-label="Customer list">
                        <thead>
                            <tr role="row">
                                <th role="columnheader" scope="col">ID</th>
                                <th role="columnheader" scope="col">First Name</th>
                                <th role="columnheader" scope="col">Last Name</th>
                                <th role="columnheader" scope="col">Middle Initial</th>
                                <th role="columnheader" scope="col">Street</th>
                                <th role="columnheader" scope="col">City</th>
                                <th role="columnheader" scope="col">State</th>
                                <th role="columnheader" scope="col">Zip</th>
                                <th role="columnheader" scope="col">Phone</th>
                                <th role="columnheader" scope="col">Email</th>
                                <th role="columnheader" scope="col">Actions</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div id="customersMsg" class="alert-message" style="display:none; margin-top:12px" role="alert" aria-live="polite"></div>

                <div id="formContainer" class="modal mt-30 hidden" aria-hidden="true" role="dialog" aria-labelledby="formTitle">
                    <div class="modal-content form-card" role="document">
                        <h2 id="formTitle">Create Customer</h2>
                        <form id="customerForm" aria-label="Customer form">
                            <input type="hidden" id="id">
                            <div id="formMsg" class="alert-message" style="display:none; margin-bottom:12px" role="alert" aria-live="polite"></div>
                            <div class="form-group">
                                <label for="firstName" class="sr-only">First Name</label>
                                <input type="text" id="firstName" placeholder="First Name" required aria-required="true" aria-describedby="firstNameError">
                                <div id="firstNameError" class="error-message" role="alert" aria-live="assertive"><i class="fas fa-exclamation-circle" aria-hidden="true"></i><span></span></div>
                            </div>
                            <div class="form-group">
                                <label for="lastName" class="sr-only">Last Name</label>
                                <input type="text" id="lastName" placeholder="Last Name" required aria-required="true" aria-describedby="lastNameError">
                                <div id="lastNameError" class="error-message" role="alert" aria-live="assertive"><i class="fas fa-exclamation-circle" aria-hidden="true"></i><span></span></div>
                            </div>
                            <div class="form-group">
                                <label for="middleInitial" class="sr-only">Middle Initial</label>
                                <input type="text" id="middleInitial" placeholder="Middle Initial" required aria-required="true" aria-describedby="middleInitialError">
                                <div id="middleInitialError" class="error-message" role="alert" aria-live="assertive"><i class="fas fa-exclamation-circle" aria-hidden="true"></i><span></span></div>
                            </div>
                            <div class="form-group">
                                <label for="street" class="sr-only">Street</label>
                                <input type="text" id="street" placeholder="Street" required aria-required="true" aria-describedby="streetError">
                                <div id="streetError" class="error-message" role="alert" aria-live="assertive"><i class="fas fa-exclamation-circle" aria-hidden="true"></i><span></span></div>
                            </div>
                            <div class="form-group">
                                <label for="city" class="sr-only">City</label>
                                <input type="text" id="city" placeholder="City" required aria-required="true" aria-describedby="cityError">
                                <div id="cityError" class="error-message" role="alert" aria-live="assertive"><i class="fas fa-exclamation-circle" aria-hidden="true"></i><span></span></div>
                            </div>
                            <div class="form-group">
                                <label for="state" class="sr-only">State</label>
                                <input type="text" id="state" placeholder="State" required aria-required="true" aria-describedby="stateError">
                                <div id="stateError" class="error-message" role="alert" aria-live="assertive"><i class="fas fa-exclamation-circle" aria-hidden="true"></i><span></span></div>
                            </div>
                            <div class="form-group">
                                <label for="zip" class="sr-only">Zip</label>
                                <input type="text" id="zip" placeholder="Zip" required aria-required="true" aria-describedby="zipError">
                                <div id="zipError" class="error-message" role="alert" aria-live="assertive"><i class="fas fa-exclamation-circle" aria-hidden="true"></i><span></span></div>
                            </div>
                            <div class="form-group">
                                <label for="phone" class="sr-only">Phone</label>
                                <input type="text" id="phone" placeholder="Phone" required aria-required="true" aria-describedby="phoneError">
                                <div id="phoneError" class="error-message" role="alert" aria-live="assertive"><i class="fas fa-exclamation-circle" aria-hidden="true"></i><span></span></div>
                            </div>
                            <div class="form-group">
                                <label for="email" class="sr-only">Email</label>
                                <input type="email" id="email" placeholder="Email" required aria-required="true" aria-describedby="emailError">
                                <div id="emailError" class="error-message" role="alert" aria-live="assertive">
                                    <i class="fas fa-exclamation-circle" aria-hidden="true"></i><span></span></div>
                            </div>
                            <div style="margin-top:10px; display:flex; gap:10px;" role="group" aria-label="Form actions">
                                <button type="submit" class="submit-btn" aria-label="Save customer">Save</button>
                                <button type="button" class="submit-btn" id="cancelCustomerBtn" aria-label="Cancel and close form">Cancel</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Delete confirmation modal -->
                <div id="confirmContainer" class="modal mt-30 hidden" 
                     aria-hidden="true" role="dialog" aria-labelledby="confirmTitle" aria-describedby="confirmMessage">
                    <div class="modal-content form-card" role="document">
                        <h3 id="confirmTitle">Confirmation</h3>
                        <p id="confirmMessage">Do you want to delete this customer?</p>
                        <div style="margin-top:12px; display:flex; gap:10px; justify-content:center;" role="group" aria-label="Confirmation actions">
                            <button type="button" class="submit-btn" id="confirmYesBtn" aria-label="Confirm delete customer">Yes</button>
                            <button type="button" class="submit-btn" id="confirmNoBtn" aria-label="Cancel delete customer">No</button>
                        </div>
                    </div>
                </div>

                <!-- Help video modal (simple player, se carga localmente desde assets) -->
                <div id="helpVideoModal" class="modal mt-30 hidden" aria-hidden="true" role="dialog" aria-labelledby="helpTitle">
                    <div class="modal-content form-card" role="document" style="max-width:900px; width:95%;">
                        <div style="display:flex; justify-content:space-between; align-items:center;">
                            <h3 id="helpTitle">Help — Interactive Video</h3>
                            <button type="button" class="submit-btn" id="helpCloseBtn" aria-label="Close help video">Close</button>
                        </div>
                        <div style="margin-top:12px;">
                            <video id="helpVideo" controls style="width:100%; height:auto; background:#000;" aria-label="Help video tutorial">
                                <source src="assets/h5p-content/content/videos/files-69845d92bdd1d.mp4" type="video/mp4">     
                            </video>
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <script src="clases.js"></script>

        <script src="assets/js/customers.js"></script>
    </body>
</html>